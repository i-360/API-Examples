<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>Contact PUT Example</title>

    <script src="Scripts/jquery-2.1.1.min.js" type="text/javascript"></script>

    <script type="text/javascript" language="javascript">
        var apiUrl = "https://test-api.i-360.com/1.0/Contacts";
        var userId = '00000000-0000-0000-0000-000000000000'; // don't forget to replace with valid user id
        jQuery.support.cors = true;

        $(document).ready(function () {
            $("#Import").click(function () {
                var state = $("#stateInput").val();
                var firstname = $("#fristNameInput").val();
                var lastname = $("#lastNameInput").val();
                var gender = $("#genderInput").val();
                var phone = $("#phoneInput").val();
                var email = $("#emailInput").val();
                var address1 = $("#address1Input").val();
                var address2 = $("#address2Input").val();
                var city = $("#cityInput").val();
                var zip = $("#zipInput").val();

                if (state == null || state == "") {
                    alert("State must be filled out");
                    return false;
                }

                if (firstname == null || firstname == "") {
                    alert("First name must be filled out");
                    return false;
                }

                if (lastname == null || lastname == "") {
                    alert("Last name must be filled out");
                    return false;
                }

                if (email == null || email == "") {
                    alert("Email must be filled out");
                    return false;
                }

                var contact = new Object();
                contact.RegisteredState = state;
                contact.firstname = firstname;
                contact.lastname = lastname;
                contact.gender = gender;
                contact.Phone = phone;
                contact.Email = email;
                contact.Address1 = address1;
                contact.Address2 = address2;
                contact.City = city;
                contact.State = state;
                contact.Zip = zip;

                var contactArray = new Array();
                contactArray.push(contact);
                var json = JSON.stringify(contactArray);

                $.ajax({
                    url: apiUrl,
                    type: 'PUT',
                    contentType: "application/json",
                    dataType: 'json',
                    data: json,
                    crossDomain: false,
                    beforeSend: function (xhr) {
                        var parameter = btoa(userId + ':');
                        xhr.setRequestHeader("Authorization", "Basic " + parameter);
                    },
                    success: function (data) {
                        $("#responseText").html("Contact Import Id: " + data.ImportId + " Status: " + data.Status);
                    },
                    error: function (xhr) {
                        $("#responseText").html("Error in Operation: " + xhr.status);
                    }
                });

                return false;
            });
        });
    </script>
</head>
<body>
    <div>
        <h2>
            Contact PUT Example
        </h2>

        <p>
            State
            <select id="stateInput">
                <option value="AL">Alabama</option>
                <option value="AK">Alaska</option>
                <option value="AZ">Arizona</option>
                <option value="AR">Arkansas</option>
                <option value="CA">California</option>
                <option value="CO">Colorado</option>
                <option value="CT">Connecticut</option>
                <option value="DE">Delaware</option>
                <option value="FL">Florida</option>
                <option value="GA">Georgia</option>
                <option value="HI">Hawaii</option>
                <option value="ID">Idaho</option>
                <option value="IL">Illinois</option>
                <option value="IN">Indiana</option>
                <option value="IA">Iowa</option>
                <option value="KS">Kansas</option>
                <option value="KY">Kentucky</option>
                <option value="LA">Louisiana</option>
                <option value="ME">Maine</option>
                <option value="MD">Maryland</option>
                <option value="MA">Massachusetts</option>
                <option value="DC">District Of Columbia</option>
                <option value="MI">Michigan</option>
                <option value="MN">Minnesota</option>
                <option value="MS">Mississippi</option>
                <option value="MO">Missouri</option>
                <option value="MT">Montana</option>
                <option value="NE">Nebraska</option>
                <option value="NV">Nevada</option>
                <option value="NH">New Hampshire</option>
                <option value="NJ">New Jersey</option>
                <option value="NM">New Mexico</option>
                <option value="NY">New York</option>
                <option value="NC">North Carolina</option>
                <option value="ND">North Dakota</option>
                <option value="OH">Ohio</option>
                <option value="OK">Oklahoma</option>
                <option value="OR">Oregon</option>
                <option value="PA">Pennsylvania</option>
                <option value="RI">Rhode Island</option>
                <option value="SC">South Carolina</option>
                <option value="SD">South Dakota</option>
                <option value="TN">Tennessee</option>
                <option value="TX">Texas</option>
                <option value="UT">Utah</option>
                <option value="VT">Vermont</option>
                <option value="VA">Virginia </option>
                <option value="WA">Washington</option>
                <option value="WV">West Virginia</option>
                <option value="WI">Wisconsin</option>
                <option value="WY">Wyoming</option>
            </select>
        </p>
        <p>
            First Name <input type="text" id="fristNameInput" style="width: 250px" placeholder="Required">
        </p>
        <p>
            Last Name
            <input type="text" id="lastNameInput" style="width: 250px" placeholder="Required">
        </p>
        <p>
            Gender
            <input type="radio" id="genderInput" title="Male" value="M">Male
            <input type="radio" id="genderInput" title="Female" value="F" style="padding: 4px">Female
        </p>
        <p>
            Telephone
            <input type="text" id="phoneInput" style="width: 250px">
        </p>
        <p>
            Email
            <input type="text" id="emailInput" style="width: 250px" placeholder="Required">
        </p>
        <p>
            Address 1
            <input type="text" id="address1Input" style="width: 250px">
        </p>
        <p>
            Address 2
            <input type="text" id="address2Input" style="width: 250px">
        </p>
        <p>
            City
            <input type="text" id="cityInput" style="width: 250px">
        </p>
        <p>
            Zip
            <input type="text" id="zipInput" size="5" style="width: 124px">
        </p>

        <input type="submit" id="Import" value="Import">

        <br>
        <span id="responseText"></span>
    </div>
</body>
</html>
